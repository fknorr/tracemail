<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    </head>
    <body class="container">
        <h1>Tracemail</h1>
        {% if error %}
            <div class="alert alert-danger">{{ error }}</div>
        {% endif %}
        <h3>Existing Aliases</h3>
        <table class="table">
            <thead>
                <tr><th>Alias</th><th>Mailbox</th><th>Purpose</th><th>Created</th><th></th></tr>
            </thead>
            <tbody>
            {% for row in list %}
                <tr>
                    {% for column in row %}<td>{{ column }}</td>{% endfor %}<td>
                    <form action="{{prefix}}/delete" method="post">
                        <input type="hidden" name="alias" value="{{ row[0] }}">
                        <input type="submit" value="Delete">
                    </form>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        <h3>Add a new alias</h3>
        <form action="{{prefix}}/new" method="post">
            <div class="form-group">
                <label for="alias">Alias</label>
                <input class="form-control" type="text" name="alias" id="alias">
            </div>
            <div class="form-group">
                <label for="mailbox">Mailbox</label>
                <input class="form-control" type="text" name="mailbox" id="mailbox">
            </div>
            <div class="form-group">
                <label for="purpose">Purpose</label>
                <input class="form-control" type="text" name="purpose" id="purpose">
            </div>
            <input class="btn btn-primary" type="submit" value="Create">
        </form>
    </body>
</html>
